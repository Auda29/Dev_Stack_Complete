# Tasks Schema Reference

The `tasks.json` file acts as the central database and source of truth for the Dev_Stack system. This document defines the expected structure and values.

## File Structure

The root object must contain:

- `tasks`: Array of Task objects.
- `backlog`: Array of strings (optional, for unrefined ideas).
- `metadata`: Object containing `last_updated` (string).

## Task Object

Each task in the `tasks` array must have the following fields:

| Field | Type | Description |
|-------|------|-------------|
| `id` | String | Unique identifier (e.g., `T-001`). Auto-generated by `task_manager.py`. |
| `title` | String | Short summary of the task. |
| `status` | String | Current state of the task (see Allowed Statuses). |
| `assigned` | String | The agent responsible for the task (see Allowed Agents). |
| `priority` | String | `High`, `Medium`, or `Low`. |
| `created` | String | Date string `YYYY-MM-DD`. |
| `dependencies` | Array | List of Task IDs that this task depends on. |
| `description` | String | Detailed description of the work required. |
| `technical_notes` | String | Implementation details, hints, or constraints for the agent. |

## Allowed Values

### Statuses
The `watcher.py` and agents rely on these specific status strings to trigger transitions.

- `TODO`: Task is planned but not started.
- `WIP`: Agent is currently working on it.
- `TESTING`: Code is written, waiting for tests to pass.
- `REVIEW`: Tests passed, waiting for code review.
- `APPROVED`: Review passed, ready for merge.
- `COMPLETED`: Merged and finished.
- `BLOCKED`: Cannot proceed (e.g., missing dependency).
- `REJECTED`: Task will not be done.

### Agents
- `Taskmaster`: Planning and orchestration.
- `Dev1`: Core business logic / Backend.
- `Dev2`: API / Integration / Frontend.
- `Testing`: QA and Test automation.
- `Review`: Code Reviewer.
- `DevOps`: CI/CD and Merging.
- `Unassigned`: Not yet allocated.

## Example `tasks.json`

```json
{
  "tasks": [
    {
      "id": "T-001",
      "title": "Implement Login API",
      "status": "WIP",
      "assigned": "Dev1",
      "priority": "High",
      "created": "2025-11-20",
      "dependencies": [],
      "description": "Create a JWT-based login endpoint.",
      "technical_notes": "Use FastAPI and PyJWT."
    }
  ],
  "metadata": {
    "last_updated": "2025-11-20"
  }
}
```
